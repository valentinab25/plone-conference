{"ast":null,"code":"import _extends from \"/home/valentina/Plone/plone-conference/frontend/node_modules/@babel/runtime/helpers/esm/extends\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { RenderBlocks } from '@plone/volto/components';\nimport { getPanels, accordionBlockHasValue } from './util';\nimport { Accordion, Icon } from 'semantic-ui-react';\nimport { withBlockExtensions } from '@plone/volto/helpers';\nimport { useLocation } from 'react-router-dom';\nimport cx from 'classnames';\nimport { Icon as VoltoIcon } from '@plone/volto/components';\nimport AnimateHeight from 'react-animate-height';\nimport config from '@plone/volto/registry';\nimport './editor.less';\n\nconst View = props => {\n  const {\n    data\n  } = props;\n  const location = useLocation();\n  const panels = getPanels(data.data);\n  const metadata = props.metadata || props.properties;\n  const [activeIndex, setActiveIndex] = React.useState([]);\n  const accordionConfig = config.blocks.blocksConfig.accordion;\n  const {\n    titleIcons\n  } = accordionConfig;\n\n  const handleClick = (e, itemProps) => {\n    const {\n      index\n    } = itemProps;\n\n    if (data.non_exclusive) {\n      const newIndex = activeIndex.indexOf(index) === -1 ? [...activeIndex, index] : activeIndex.filter(item => item !== index);\n      setActiveIndex(newIndex);\n    } else {\n      const newIndex = activeIndex.indexOf(index) === -1 ? [index] : activeIndex.filter(item => item !== index);\n      setActiveIndex(newIndex);\n    }\n  };\n\n  const isExclusive = index => {\n    return activeIndex.includes(index);\n  };\n\n  React.useEffect(() => {\n    return data.collapsed ? setActiveIndex([]) : setActiveIndex([0]);\n  }, [data.collapsed]);\n  return __jsx(\"div\", {\n    className: \"accordion-block\"\n  }, panels.map((_ref, index) => {\n    var _accordionConfig$defa, _props$data, _props$data2, _props$data3, _props$data4;\n\n    let [id, panel] = _ref;\n    return accordionBlockHasValue(panel) ? __jsx(Accordion, _extends({\n      key: id,\n      exclusive: !data.exclusive,\n      className: data.styles ? data.styles.theme : accordionConfig === null || accordionConfig === void 0 ? void 0 : (_accordionConfig$defa = accordionConfig.defaults) === null || _accordionConfig$defa === void 0 ? void 0 : _accordionConfig$defa.theme\n    }, accordionConfig.options), __jsx(React.Fragment, null, __jsx(Accordion.Title, {\n      as: data.title_size,\n      active: isExclusive(index),\n      index: index,\n      onClick: handleClick,\n      className: cx('accordion-title', {\n        'align-arrow-left': !(props !== null && props !== void 0 && (_props$data = props.data) !== null && _props$data !== void 0 && _props$data.right_arrows),\n        'align-arrow-right': props === null || props === void 0 ? void 0 : (_props$data2 = props.data) === null || _props$data2 === void 0 ? void 0 : _props$data2.right_arrows\n      })\n    }, accordionConfig.semanticIcon ? __jsx(Icon, {\n      className: accordionConfig.semanticIcon\n    }) : isExclusive(index) ? __jsx(VoltoIcon, {\n      name: props !== null && props !== void 0 && (_props$data3 = props.data) !== null && _props$data3 !== void 0 && _props$data3.right_arrows ? titleIcons.opened.rightPosition : titleIcons.opened.leftPosition,\n      size: titleIcons.size\n    }) : __jsx(VoltoIcon, {\n      name: props !== null && props !== void 0 && (_props$data4 = props.data) !== null && _props$data4 !== void 0 && _props$data4.right_arrows ? titleIcons.closed.rightPosition : titleIcons.closed.leftPosition,\n      size: titleIcons.size\n    }), __jsx(\"span\", null, panel === null || panel === void 0 ? void 0 : panel.title)), __jsx(AnimateHeight, {\n      animateOpacity: true,\n      duration: 500,\n      height: isExclusive(index) ? 'auto' : 0\n    }, __jsx(Accordion.Content, {\n      active: isExclusive(index)\n    }, __jsx(RenderBlocks, _extends({}, props, {\n      location: location,\n      metadata: metadata,\n      content: panel\n    })))))) : null;\n  }));\n};\n\nexport default withBlockExtensions(View);","map":{"version":3,"names":["React","RenderBlocks","getPanels","accordionBlockHasValue","Accordion","Icon","withBlockExtensions","useLocation","cx","VoltoIcon","AnimateHeight","config","View","props","data","location","panels","metadata","properties","activeIndex","setActiveIndex","useState","accordionConfig","blocks","blocksConfig","accordion","titleIcons","handleClick","e","itemProps","index","non_exclusive","newIndex","indexOf","filter","item","isExclusive","includes","useEffect","collapsed","map","id","panel","exclusive","styles","theme","defaults","options","title_size","right_arrows","semanticIcon","opened","rightPosition","leftPosition","size","closed","title"],"sources":["/home/valentina/Plone/plone-conference/frontend/node_modules/@eeacms/volto-accordion-block/src/components/manage/Blocks/Accordion/View.jsx"],"sourcesContent":["import React from 'react';\nimport { RenderBlocks } from '@plone/volto/components';\nimport { getPanels, accordionBlockHasValue } from './util';\nimport { Accordion, Icon } from 'semantic-ui-react';\nimport { withBlockExtensions } from '@plone/volto/helpers';\nimport { useLocation } from 'react-router-dom';\n\nimport cx from 'classnames';\nimport { Icon as VoltoIcon } from '@plone/volto/components';\nimport AnimateHeight from 'react-animate-height';\nimport config from '@plone/volto/registry';\nimport './editor.less';\n\nconst View = (props) => {\n  const { data } = props;\n  const location = useLocation();\n  const panels = getPanels(data.data);\n  const metadata = props.metadata || props.properties;\n  const [activeIndex, setActiveIndex] = React.useState([]);\n  const accordionConfig = config.blocks.blocksConfig.accordion;\n  const { titleIcons } = accordionConfig;\n  const handleClick = (e, itemProps) => {\n    const { index } = itemProps;\n    if (data.non_exclusive) {\n      const newIndex =\n        activeIndex.indexOf(index) === -1\n          ? [...activeIndex, index]\n          : activeIndex.filter((item) => item !== index);\n\n      setActiveIndex(newIndex);\n    } else {\n      const newIndex =\n        activeIndex.indexOf(index) === -1\n          ? [index]\n          : activeIndex.filter((item) => item !== index);\n\n      setActiveIndex(newIndex);\n    }\n  };\n\n  const isExclusive = (index) => {\n    return activeIndex.includes(index);\n  };\n\n  React.useEffect(() => {\n    return data.collapsed ? setActiveIndex([]) : setActiveIndex([0]);\n  }, [data.collapsed]);\n\n  return (\n    <div className=\"accordion-block\">\n      {panels.map(([id, panel], index) => {\n        return accordionBlockHasValue(panel) ? (\n          <Accordion\n            key={id}\n            exclusive={!data.exclusive}\n            className={\n              data.styles ? data.styles.theme : accordionConfig?.defaults?.theme\n            }\n            {...accordionConfig.options}\n          >\n            <React.Fragment>\n              <Accordion.Title\n                as={data.title_size}\n                active={isExclusive(index)}\n                index={index}\n                onClick={handleClick}\n                className={cx('accordion-title', {\n                  'align-arrow-left': !props?.data?.right_arrows,\n                  'align-arrow-right': props?.data?.right_arrows,\n                })}\n              >\n                {accordionConfig.semanticIcon ? (\n                  <Icon className={accordionConfig.semanticIcon} />\n                ) : isExclusive(index) ? (\n                  <VoltoIcon\n                    name={\n                      props?.data?.right_arrows\n                        ? titleIcons.opened.rightPosition\n                        : titleIcons.opened.leftPosition\n                    }\n                    size={titleIcons.size}\n                  />\n                ) : (\n                  <VoltoIcon\n                    name={\n                      props?.data?.right_arrows\n                        ? titleIcons.closed.rightPosition\n                        : titleIcons.closed.leftPosition\n                    }\n                    size={titleIcons.size}\n                  />\n                )}\n                <span>{panel?.title}</span>\n              </Accordion.Title>\n              <AnimateHeight\n                animateOpacity\n                duration={500}\n                height={isExclusive(index) ? 'auto' : 0}\n              >\n                <Accordion.Content active={isExclusive(index)}>\n                  <RenderBlocks\n                    {...props}\n                    location={location}\n                    metadata={metadata}\n                    content={panel}\n                  />\n                </Accordion.Content>\n              </AnimateHeight>\n            </React.Fragment>\n          </Accordion>\n        ) : null;\n      })}\n    </div>\n  );\n};\n\nexport default withBlockExtensions(View);\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}