{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport { flattenToAppURL, getBaseUrl } from '@plone/volto/helpers';\nimport { trackPageView } from './utils';\nexport const MatomoAppExtra = _ref => {\n  let {\n    location,\n    content\n  } = _ref;\n  const title = content === null || content === void 0 ? void 0 : content.title;\n  const pathname = location.pathname.replace(/\\/$/, '');\n  const href = flattenToAppURL((content === null || content === void 0 ? void 0 : content['@id']) || '');\n  const baseUrl = getBaseUrl(pathname) || '';\n  React.useEffect(() => {\n    if (href === pathname) {\n      // a document (content)\n      trackPageView({\n        href,\n        documentTitle: title\n      });\n    }\n\n    if (baseUrl !== pathname) {\n      // a route (utility view)\n      const action = pathname.split('/')[pathname.split('/').length - 1];\n      trackPageView({\n        href: pathname,\n        documentTitle: action\n      });\n    }\n  }, [href, pathname, title, baseUrl]);\n  return __jsx(React.Fragment, null);\n};\nexport default MatomoAppExtra;","map":{"version":3,"names":["React","flattenToAppURL","getBaseUrl","trackPageView","MatomoAppExtra","location","content","title","pathname","replace","href","baseUrl","useEffect","documentTitle","action","split","length"],"sources":["/home/valentina/Plone/plone-conference/frontend/node_modules/@eeacms/volto-matomo/src/MatomoAppExtra.jsx"],"sourcesContent":["import React from 'react';\nimport { flattenToAppURL, getBaseUrl } from '@plone/volto/helpers';\nimport { trackPageView } from './utils';\n\nexport const MatomoAppExtra = ({ location, content }) => {\n  const title = content?.title;\n  const pathname = location.pathname.replace(/\\/$/, '');\n\n  const href = flattenToAppURL(content?.['@id'] || '');\n  const baseUrl = getBaseUrl(pathname) || '';\n\n  React.useEffect(() => {\n    if (href === pathname) {\n      // a document (content)\n      trackPageView({ href, documentTitle: title });\n    }\n    if (baseUrl !== pathname) {\n      // a route (utility view)\n      const action = pathname.split('/')[pathname.split('/').length - 1];\n      trackPageView({ href: pathname, documentTitle: action });\n    }\n  }, [href, pathname, title, baseUrl]);\n\n  return <React.Fragment />;\n};\n\nexport default MatomoAppExtra;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,EAA0BC,UAA1B,QAA4C,sBAA5C;AACA,SAASC,aAAT,QAA8B,SAA9B;AAEA,OAAO,MAAMC,cAAc,GAAG,QAA2B;EAAA,IAA1B;IAAEC,QAAF;IAAYC;EAAZ,CAA0B;EACvD,MAAMC,KAAK,GAAGD,OAAH,aAAGA,OAAH,uBAAGA,OAAO,CAAEC,KAAvB;EACA,MAAMC,QAAQ,GAAGH,QAAQ,CAACG,QAAT,CAAkBC,OAAlB,CAA0B,KAA1B,EAAiC,EAAjC,CAAjB;EAEA,MAAMC,IAAI,GAAGT,eAAe,CAAC,CAAAK,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAG,KAAH,CAAP,KAAoB,EAArB,CAA5B;EACA,MAAMK,OAAO,GAAGT,UAAU,CAACM,QAAD,CAAV,IAAwB,EAAxC;EAEAR,KAAK,CAACY,SAAN,CAAgB,MAAM;IACpB,IAAIF,IAAI,KAAKF,QAAb,EAAuB;MACrB;MACAL,aAAa,CAAC;QAAEO,IAAF;QAAQG,aAAa,EAAEN;MAAvB,CAAD,CAAb;IACD;;IACD,IAAII,OAAO,KAAKH,QAAhB,EAA0B;MACxB;MACA,MAAMM,MAAM,GAAGN,QAAQ,CAACO,KAAT,CAAe,GAAf,EAAoBP,QAAQ,CAACO,KAAT,CAAe,GAAf,EAAoBC,MAApB,GAA6B,CAAjD,CAAf;MACAb,aAAa,CAAC;QAAEO,IAAI,EAAEF,QAAR;QAAkBK,aAAa,EAAEC;MAAjC,CAAD,CAAb;IACD;EACF,CAVD,EAUG,CAACJ,IAAD,EAAOF,QAAP,EAAiBD,KAAjB,EAAwBI,OAAxB,CAVH;EAYA,OAAO,MAAC,KAAD,CAAO,QAAP,OAAP;AACD,CApBM;AAsBP,eAAeP,cAAf"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}