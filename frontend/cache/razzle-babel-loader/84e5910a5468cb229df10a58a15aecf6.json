{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport accordionSVG from '@plone/volto/icons/list-arrows.svg';\nimport { AccordionBlockEdit, AccordionBlockView, AccordionLayoutSchema, AccordionStylingSchema } from './components';\nimport { PanelsWidget } from '@eeacms/volto-accordion-block/components';\nimport rightSVG from '@plone/volto/icons/right-key.svg';\nimport leftSVG from '@plone/volto/icons/left-key.svg';\nimport downSVG from '@plone/volto/icons/down-key.svg';\n\nconst extendedSchema = config => {\n  const choices = Object.keys(config.blocks.blocksConfig).map(key => {\n    var _config$blocks$blocks;\n\n    if ((_config$blocks$blocks = config.blocks.blocksConfig[key]) !== null && _config$blocks$blocks !== void 0 && _config$blocks$blocks.restricted) {\n      return false;\n    } else {\n      var _config$blocks$blocks2;\n\n      const title = ((_config$blocks$blocks2 = config.blocks.blocksConfig[key]) === null || _config$blocks$blocks2 === void 0 ? void 0 : _config$blocks$blocks2.title) || key;\n      return [key, title];\n    }\n  }).filter(val => !!val);\n  choices.push(['accordion', 'Accordion']);\n  return _objectSpread(_objectSpread({}, AccordionLayoutSchema), {}, {\n    properties: _objectSpread(_objectSpread({}, AccordionLayoutSchema.properties), {}, {\n      allowedBlocks: _objectSpread(_objectSpread({}, AccordionLayoutSchema.properties.allowedBlocks), {}, {\n        items: {\n          choices: choices\n        }\n      })\n    })\n  });\n};\n\nconst applyConfig = config => {\n  config.blocks.blocksConfig.accordion = {\n    id: 'accordion',\n    title: 'Accordion',\n    icon: accordionSVG,\n    group: 'common',\n    titleIcons: {\n      closed: {\n        leftPosition: rightSVG,\n        rightPosition: leftSVG\n      },\n      opened: {\n        leftPosition: downSVG,\n        rightPosition: downSVG\n      },\n      size: '24px'\n    },\n    view: AccordionBlockView,\n    edit: AccordionBlockEdit,\n    restricted: false,\n    mostUsed: false,\n    blockHasOwnFocusManagement: true,\n    sidebarTab: 1,\n    schema: extendedSchema(config),\n    stylesSchema: AccordionStylingSchema,\n    enableStyling: true,\n    // See https://react.semantic-ui.com/modules/accordion/\n    options: {\n      styled: 'styled',\n      fluid: 'fluid'\n    },\n    defaults: {},\n    security: {\n      addPermission: [],\n      view: []\n    }\n  };\n  config.widgets.type.panels = PanelsWidget;\n  return config;\n};\n\nexport default applyConfig;","map":{"version":3,"names":["accordionSVG","AccordionBlockEdit","AccordionBlockView","AccordionLayoutSchema","AccordionStylingSchema","PanelsWidget","rightSVG","leftSVG","downSVG","extendedSchema","config","choices","Object","keys","blocks","blocksConfig","map","key","restricted","title","filter","val","push","properties","allowedBlocks","items","applyConfig","accordion","id","icon","group","titleIcons","closed","leftPosition","rightPosition","opened","size","view","edit","mostUsed","blockHasOwnFocusManagement","sidebarTab","schema","stylesSchema","enableStyling","options","styled","fluid","defaults","security","addPermission","widgets","type","panels"],"sources":["/home/valentina/Plone/plone-conference/frontend/node_modules/@eeacms/volto-accordion-block/src/index.js"],"sourcesContent":["import accordionSVG from '@plone/volto/icons/list-arrows.svg';\nimport {\n  AccordionBlockEdit,\n  AccordionBlockView,\n  AccordionLayoutSchema,\n  AccordionStylingSchema,\n} from './components';\nimport { PanelsWidget } from '@eeacms/volto-accordion-block/components';\nimport rightSVG from '@plone/volto/icons/right-key.svg';\nimport leftSVG from '@plone/volto/icons/left-key.svg';\nimport downSVG from '@plone/volto/icons/down-key.svg';\n\nconst extendedSchema = (config) => {\n  const choices = Object.keys(config.blocks.blocksConfig)\n    .map((key) => {\n      if (config.blocks.blocksConfig[key]?.restricted) {\n        return false;\n      } else {\n        const title = config.blocks.blocksConfig[key]?.title || key;\n        return [key, title];\n      }\n    })\n    .filter((val) => !!val);\n\n  choices.push(['accordion', 'Accordion']);\n\n  return {\n    ...AccordionLayoutSchema,\n    properties: {\n      ...AccordionLayoutSchema.properties,\n      allowedBlocks: {\n        ...AccordionLayoutSchema.properties.allowedBlocks,\n        items: {\n          choices: choices,\n        },\n      },\n    },\n  };\n};\n\nconst applyConfig = (config) => {\n  config.blocks.blocksConfig.accordion = {\n    id: 'accordion',\n    title: 'Accordion',\n    icon: accordionSVG,\n    group: 'common',\n    titleIcons: {\n      closed: { leftPosition: rightSVG, rightPosition: leftSVG },\n      opened: { leftPosition: downSVG, rightPosition: downSVG },\n      size: '24px',\n    },\n    view: AccordionBlockView,\n    edit: AccordionBlockEdit,\n    restricted: false,\n    mostUsed: false,\n    blockHasOwnFocusManagement: true,\n    sidebarTab: 1,\n    schema: extendedSchema(config),\n    stylesSchema: AccordionStylingSchema,\n    enableStyling: true,\n    // See https://react.semantic-ui.com/modules/accordion/\n    options: {\n      styled: 'styled',\n      fluid: 'fluid',\n    },\n    defaults: {},\n    security: {\n      addPermission: [],\n      view: [],\n    },\n  };\n  config.widgets.type.panels = PanelsWidget;\n  return config;\n};\n\nexport default applyConfig;\n"],"mappings":";;;;;;AAAA,OAAOA,YAAP,MAAyB,oCAAzB;AACA,SACEC,kBADF,EAEEC,kBAFF,EAGEC,qBAHF,EAIEC,sBAJF,QAKO,cALP;AAMA,SAASC,YAAT,QAA6B,0CAA7B;AACA,OAAOC,QAAP,MAAqB,kCAArB;AACA,OAAOC,OAAP,MAAoB,iCAApB;AACA,OAAOC,OAAP,MAAoB,iCAApB;;AAEA,MAAMC,cAAc,GAAIC,MAAD,IAAY;EACjC,MAAMC,OAAO,GAAGC,MAAM,CAACC,IAAP,CAAYH,MAAM,CAACI,MAAP,CAAcC,YAA1B,EACbC,GADa,CACRC,GAAD,IAAS;IAAA;;IACZ,6BAAIP,MAAM,CAACI,MAAP,CAAcC,YAAd,CAA2BE,GAA3B,CAAJ,kDAAI,sBAAiCC,UAArC,EAAiD;MAC/C,OAAO,KAAP;IACD,CAFD,MAEO;MAAA;;MACL,MAAMC,KAAK,GAAG,2BAAAT,MAAM,CAACI,MAAP,CAAcC,YAAd,CAA2BE,GAA3B,mFAAiCE,KAAjC,KAA0CF,GAAxD;MACA,OAAO,CAACA,GAAD,EAAME,KAAN,CAAP;IACD;EACF,CARa,EASbC,MATa,CASLC,GAAD,IAAS,CAAC,CAACA,GATL,CAAhB;EAWAV,OAAO,CAACW,IAAR,CAAa,CAAC,WAAD,EAAc,WAAd,CAAb;EAEA,uCACKnB,qBADL;IAEEoB,UAAU,kCACLpB,qBAAqB,CAACoB,UADjB;MAERC,aAAa,kCACRrB,qBAAqB,CAACoB,UAAtB,CAAiCC,aADzB;QAEXC,KAAK,EAAE;UACLd,OAAO,EAAEA;QADJ;MAFI;IAFL;EAFZ;AAYD,CA1BD;;AA4BA,MAAMe,WAAW,GAAIhB,MAAD,IAAY;EAC9BA,MAAM,CAACI,MAAP,CAAcC,YAAd,CAA2BY,SAA3B,GAAuC;IACrCC,EAAE,EAAE,WADiC;IAErCT,KAAK,EAAE,WAF8B;IAGrCU,IAAI,EAAE7B,YAH+B;IAIrC8B,KAAK,EAAE,QAJ8B;IAKrCC,UAAU,EAAE;MACVC,MAAM,EAAE;QAAEC,YAAY,EAAE3B,QAAhB;QAA0B4B,aAAa,EAAE3B;MAAzC,CADE;MAEV4B,MAAM,EAAE;QAAEF,YAAY,EAAEzB,OAAhB;QAAyB0B,aAAa,EAAE1B;MAAxC,CAFE;MAGV4B,IAAI,EAAE;IAHI,CALyB;IAUrCC,IAAI,EAAEnC,kBAV+B;IAWrCoC,IAAI,EAAErC,kBAX+B;IAYrCiB,UAAU,EAAE,KAZyB;IAarCqB,QAAQ,EAAE,KAb2B;IAcrCC,0BAA0B,EAAE,IAdS;IAerCC,UAAU,EAAE,CAfyB;IAgBrCC,MAAM,EAAEjC,cAAc,CAACC,MAAD,CAhBe;IAiBrCiC,YAAY,EAAEvC,sBAjBuB;IAkBrCwC,aAAa,EAAE,IAlBsB;IAmBrC;IACAC,OAAO,EAAE;MACPC,MAAM,EAAE,QADD;MAEPC,KAAK,EAAE;IAFA,CApB4B;IAwBrCC,QAAQ,EAAE,EAxB2B;IAyBrCC,QAAQ,EAAE;MACRC,aAAa,EAAE,EADP;MAERb,IAAI,EAAE;IAFE;EAzB2B,CAAvC;EA8BA3B,MAAM,CAACyC,OAAP,CAAeC,IAAf,CAAoBC,MAApB,GAA6BhD,YAA7B;EACA,OAAOK,MAAP;AACD,CAjCD;;AAmCA,eAAegB,WAAf"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}