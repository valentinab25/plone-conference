{"ast":null,"code":"var _jsxFileName = \"/home/valentina/Plone/plone-conference/frontend/node_modules/@eeacms/volto-accordion-block/src/components/manage/Blocks/Accordion/AccordionEdit.jsx\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { Icon as VoltoIcon } from '@plone/volto/components';\nimport cx from 'classnames';\nimport React from 'react';\nimport AnimateHeight from 'react-animate-height';\nimport { Accordion, Input, Icon } from 'semantic-ui-react';\nimport config from '@plone/volto/registry';\nexport default (props => {\n  var _accordionConfig$defa, _props$data, _props$data2, _props$data3, _props$data4;\n\n  const {\n    children,\n    handleTitleChange,\n    handleTitleClick,\n    uid,\n    panel,\n    data,\n    index\n  } = props;\n  const [activeIndex, setActiveIndex] = React.useState([0]);\n  const accordionConfig = config.blocks.blocksConfig.accordion;\n  const {\n    titleIcons\n  } = accordionConfig;\n\n  const handleClick = (e, itemProps) => {\n    const {\n      index\n    } = itemProps;\n\n    if (data.non_exclusive) {\n      const newIndex = activeIndex.indexOf(index) === -1 ? [...activeIndex, index] : activeIndex.filter(item => item !== index);\n      setActiveIndex(newIndex);\n    } else {\n      const newIndex = activeIndex.indexOf(index) === -1 ? [index] : activeIndex.filter(item => item !== index);\n      setActiveIndex(newIndex);\n    }\n  };\n\n  const isExclusive = index => {\n    return activeIndex.includes(index);\n  };\n\n  React.useEffect(() => {\n    return data.collapsed ? setActiveIndex([]) : setActiveIndex([0]);\n  }, [data.collapsed]);\n  return __jsx(Accordion, _extends({\n    className: data.styles ? data.styles.theme : accordionConfig === null || accordionConfig === void 0 ? void 0 : (_accordionConfig$defa = accordionConfig.defaults) === null || _accordionConfig$defa === void 0 ? void 0 : _accordionConfig$defa.theme\n  }, accordionConfig.options, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }), __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, __jsx(Accordion.Title, {\n    as: data.title_size,\n    active: isExclusive(index),\n    index: index,\n    onClick: handleClick,\n    className: cx('accordion-title', {\n      'align-arrow-left': !(props !== null && props !== void 0 && (_props$data = props.data) !== null && _props$data !== void 0 && _props$data.right_arrows),\n      'align-arrow-right': props === null || props === void 0 ? void 0 : (_props$data2 = props.data) === null || _props$data2 === void 0 ? void 0 : _props$data2.right_arrows\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, accordionConfig.semanticIcon ? __jsx(Icon, {\n    className: accordionConfig.semanticIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }) : isExclusive(index) ? __jsx(VoltoIcon, {\n    name: props !== null && props !== void 0 && (_props$data3 = props.data) !== null && _props$data3 !== void 0 && _props$data3.right_arrows ? titleIcons.opened.rightPosition : titleIcons.opened.leftPosition,\n    size: titleIcons.size,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }) : __jsx(VoltoIcon, {\n    name: props !== null && props !== void 0 && (_props$data4 = props.data) !== null && _props$data4 !== void 0 && _props$data4.right_arrows ? titleIcons.closed.rightPosition : titleIcons.closed.leftPosition,\n    size: titleIcons.size,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), !data.readOnlyTitles ? __jsx(Input, {\n    fluid: true,\n    className: \"input-accordion-title\",\n    transparent: true,\n    placeholder: \"Enter Title\",\n    value: (panel === null || panel === void 0 ? void 0 : panel.title) || '',\n    onClick: e => {\n      handleTitleClick();\n      e.stopPropagation();\n    },\n    onChange: e => handleTitleChange(e, [uid, panel]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }) : __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, panel === null || panel === void 0 ? void 0 : panel.title)), __jsx(AnimateHeight, {\n    animateOpacity: true,\n    duration: 500,\n    height: isExclusive(index) ? 'auto' : 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, __jsx(Accordion.Content, {\n    active: isExclusive(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, children))));\n});","map":{"version":3,"names":["Icon","VoltoIcon","cx","React","AnimateHeight","Accordion","Input","config","props","children","handleTitleChange","handleTitleClick","uid","panel","data","index","activeIndex","setActiveIndex","useState","accordionConfig","blocks","blocksConfig","accordion","titleIcons","handleClick","e","itemProps","non_exclusive","newIndex","indexOf","filter","item","isExclusive","includes","useEffect","collapsed","styles","theme","defaults","options","title_size","right_arrows","semanticIcon","opened","rightPosition","leftPosition","size","closed","readOnlyTitles","title","stopPropagation"],"sources":["/home/valentina/Plone/plone-conference/frontend/node_modules/@eeacms/volto-accordion-block/src/components/manage/Blocks/Accordion/AccordionEdit.jsx"],"sourcesContent":["import { Icon as VoltoIcon } from '@plone/volto/components';\nimport cx from 'classnames';\nimport React from 'react';\nimport AnimateHeight from 'react-animate-height';\nimport { Accordion, Input, Icon } from 'semantic-ui-react';\nimport config from '@plone/volto/registry';\n\nexport default (props) => {\n  const {\n    children,\n    handleTitleChange,\n    handleTitleClick,\n    uid,\n    panel,\n    data,\n    index,\n  } = props;\n  const [activeIndex, setActiveIndex] = React.useState([0]);\n  const accordionConfig = config.blocks.blocksConfig.accordion;\n  const { titleIcons } = accordionConfig;\n\n  const handleClick = (e, itemProps) => {\n    const { index } = itemProps;\n    if (data.non_exclusive) {\n      const newIndex =\n        activeIndex.indexOf(index) === -1\n          ? [...activeIndex, index]\n          : activeIndex.filter((item) => item !== index);\n\n      setActiveIndex(newIndex);\n    } else {\n      const newIndex =\n        activeIndex.indexOf(index) === -1\n          ? [index]\n          : activeIndex.filter((item) => item !== index);\n\n      setActiveIndex(newIndex);\n    }\n  };\n\n  const isExclusive = (index) => {\n    return activeIndex.includes(index);\n  };\n\n  React.useEffect(() => {\n    return data.collapsed ? setActiveIndex([]) : setActiveIndex([0]);\n  }, [data.collapsed]);\n\n  return (\n    <Accordion\n      className={\n        data.styles ? data.styles.theme : accordionConfig?.defaults?.theme\n      }\n      {...accordionConfig.options}\n    >\n      <React.Fragment>\n        <Accordion.Title\n          as={data.title_size}\n          active={isExclusive(index)}\n          index={index}\n          onClick={handleClick}\n          className={cx('accordion-title', {\n            'align-arrow-left': !props?.data?.right_arrows,\n            'align-arrow-right': props?.data?.right_arrows,\n          })}\n        >\n          {accordionConfig.semanticIcon ? (\n            <Icon className={accordionConfig.semanticIcon} />\n          ) : isExclusive(index) ? (\n            <VoltoIcon\n              name={\n                props?.data?.right_arrows\n                  ? titleIcons.opened.rightPosition\n                  : titleIcons.opened.leftPosition\n              }\n              size={titleIcons.size}\n            />\n          ) : (\n            <VoltoIcon\n              name={\n                props?.data?.right_arrows\n                  ? titleIcons.closed.rightPosition\n                  : titleIcons.closed.leftPosition\n              }\n              size={titleIcons.size}\n            />\n          )}\n          {!data.readOnlyTitles ? (\n            <Input\n              fluid\n              className=\"input-accordion-title\"\n              transparent\n              placeholder=\"Enter Title\"\n              value={panel?.title || ''}\n              onClick={(e) => {\n                handleTitleClick();\n                e.stopPropagation();\n              }}\n              onChange={(e) => handleTitleChange(e, [uid, panel])}\n            />\n          ) : (\n            <span>{panel?.title}</span>\n          )}\n        </Accordion.Title>\n        <AnimateHeight\n          animateOpacity\n          duration={500}\n          height={isExclusive(index) ? 'auto' : 0}\n        >\n          <Accordion.Content active={isExclusive(index)}>\n            {children}\n          </Accordion.Content>\n        </AnimateHeight>\n      </React.Fragment>\n    </Accordion>\n  );\n};\n"],"mappings":"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"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}